// Generated by CoffeeScript 1.6.2
(function() {
  var Groups,
    __bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; };

  ko.components.register('groups', {
    viewModel: Groups = (function() {
      function Groups() {
        this.init = __bind(this.init, this);
        this.deleteGroup = __bind(this.deleteGroup, this);
        this.getGroups = __bind(this.getGroups, this);
        var _this = this;

        this.groups = ko.observable(new Object());
        this.groupsIndex = ko.computed(function() {
          return Object.keys(_this.groups());
        }).publishOn('groupsIndex');
        this.init();
      }

      Groups.prototype.getGroups = function() {
        var loadList,
          _this = this;

        loadList = function(r) {
          return _this.groups(r);
        };
        return pvm.methods.listInstanceGroups.call(loadList);
      };

      Groups.prototype.deleteGroup = function(name) {
        return pvm.methods.deleteInstanceGroup.call(name, this.init);
      };

      Groups.prototype.addGroup = function(form) {
        return pvm.methods.addInstanceGroup.call(form.groupname.value, this.init);
      };

      Groups.prototype.init = function() {
        return this.getGroups();
      };

      return Groups;

    })(),
    template: {
      require: "/static/requirejs/text.js!views?template=groups"
    }
  });

}).call(this);

/*
//@ sourceMappingURL=pvmgroups.map
*/
